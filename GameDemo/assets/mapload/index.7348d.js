System.register("chunks:///_virtual/BarrierItemContent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./BarriterItem.ts"],(function(t){var n,r,e,o,i,a,c,s,u;return{setters:[function(t){n=t.inheritsLoose},function(t){r=t.cclegacy,e=t._decorator,o=t.assetManager,i=t.Prefab,a=t.instantiate,c=t.Component},function(t){s=t.Bundle},function(t){u=t.BarriterItem}],execute:function(){var l;r._RF.push({},"7d065ovzpxFo5/n0UBoF6yb","BarrierItemContent",void 0);var f=e.ccclass;e.property,t("BarrierItemContent",f("BarrierItemContent")(l=function(t){function r(){return t.apply(this,arguments)||this}return n(r,t),r.prototype.start=function(){var t=this;o.loadBundle(s.GAME,(function(n,r){n?console.log("err:",n):r.loadDir("/prefab/barrier",i,(function(n,r){console.log(r),r&&r.forEach((function(n){if(n){var r=a(n);r.addComponent(u),t.node.addChild(r)}}))}))}))},r}(c))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/BarriterItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,e,o,i,n,a,p;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inheritsLoose,o=r.createClass},function(r){i=r.cclegacy,n=r._decorator,a=r.CCInteger,p=r.Component}],execute:function(){var s,c,u,l;i._RF.push({},"e0826P80UhNTafaAr10ySXE","BarriterItem",void 0);var y=n.ccclass,_=n.property;r("BarriterItem",(s=y("BarriterItem"),c=_({type:[a],displayName:"占的位置"}),s((t((l=function(r){function t(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=r.call.apply(r,[this].concat(o))||this)._postion_barriter=[],t}return e(t,r),o(t,[{key:"postion_barriter",get:function(){return this._postion_barriter},set:function(r){this._postion_barriter=r}}]),t}(p)).prototype,"postion_barriter",[c],Object.getOwnPropertyDescriptor(l.prototype,"postion_barriter"),l.prototype),u=l))||u));i._RF.pop()}}}));

System.register("chunks:///_virtual/BarriTermComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BarriterItem.ts","./Config.ts"],(function(t){var o,n,r,e,i,a,s,c,l,p;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,e=t.assetManager,i=t.Prefab,a=t.instantiate,s=t.Vec3,c=t.Component},function(t){l=t.BarriterItem},function(t){p=t.Bundle}],execute:function(){var u;n._RF.push({},"50acdkGfeBJCqXf+gd+/T2E","BarriTermComp",void 0);var f=r.ccclass;r.property,t("BarriTermComp",f("BarriTermComp")(u=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var r=n.prototype;return r.getBarritermMapData=function(){var t=[];return this.node.children.forEach((function(o){if(o){var n=o.getComponent(l);if(n){var r=n.postion_barriter;if(r&&r.length>0){var e={name:o.name,scale:o.scale,postion:o.position,world_postion:o.worldPosition,rotation:o.rotation,hex_id_list:r};t.push(e)}}}})),t},r.setBarriterData=function(t){var o=this;!t||t.length<=0||e.loadBundle(p.GAME,(function(n,r){n?console.log("err:",n):t.forEach((function(t){r.load("/prefab/barrier/"+t.name,i,(function(n,r){if(r){var e=a(r);o.node.addChild(e),e.position=new s(t.postion.x,t.postion.y,t.postion.z),e.scale=new s(t.scale.x,t.scale.y,t.scale.z),e.setRotation(t.rotation),e.addComponent(l).postion_barriter=t.hex_id_list}}))}))}))},r.clearData=function(){var t=[];this.node.children.forEach((function(o){o&&(o.getComponent(l)&&t.push(o))})),t.length>0&&t.forEach((function(t){t.destroy()}))},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Config3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig2.ts","./IConfig.ts","./TargetConfig.ts"],(function(t){var o,n,e,i,r,s,u,c,p,f,_;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy,r=t._decorator,s=t.Enum,u=t.Component},function(t){c=t.GameType,p=t.GameColor},function(t){f=t.IConfig},function(t){_=t.TargetConfig}],execute:function(){var a,h,l,y,m,g,d,v,O,w,D;i._RF.push({},"84cf0EVL1pKZL6z11oZI+Z6","Config",void 0);var b=r.ccclass,C=r.property;s(c),s(p);t("config",(a=b("config"),h=C({type:c,displayName:"模式"}),l=C({displayName:"关卡",visible:function(){return this._type==c.关卡模式},step:1,min:0}),y=C({displayName:"模版",visible:function(){return this._type==c.无尽模式},step:1,min:0}),m=C({displayName:"目标次数",step:1,min:0}),g=C({displayName:"难度次数",step:1,min:0}),d=C({displayName:"发射固定颜色",type:[f]}),v=C({displayName:"目标颜色",type:[_]}),O=C({visible:function(){return this._type==c.无尽模式},displayName:"无尽颜色",type:[f]}),a((o((D=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this)._pass=0,o._type=c.关卡模式,o.fun=null,o._color=[],o._color_target=[],o._mode=0,o._finish_num=20,o._difficult_num=0,o._send_color_num=[],o}n(o,t);var i=o.prototype;return i.start=function(){window.game_config=this},i.update=function(t){},i.setTypeUI=function(){},i.setFunMain=function(t){this.fun=t},i.getData=function(){return{type:this._type,pass:this._pass,mode:this._mode,finish_num:this._finish_num,difficult_num:this._difficult_num,color_target:this._color_target.map((function(t){return t.getData()})),color:this._color.map((function(t){return t.getData()})),send_color_num:this._send_color_num.map((function(t){return t.getData()}))}},i.fromJson=function(t){var o=this;t?(this._color_target=[],t.color_target.forEach((function(t){if(t){var n=new _;n.fromJson(t),o._color_target.push(n)}})),this._color=[],t.color.forEach((function(t){if(t){var n=new f;n.fromJson(t),o._color.push(n)}})),this._send_color_num=[],t.send_color_num.forEach((function(t){if(t){var n=new f;n.fromJson(t),o._send_color_num.push(n)}})),this._finish_num=t.finish_num?t.finish_num:20,this._difficult_num=t.difficult_num?t.difficult_num:0):(this._color_target=[],this._color=[],this._send_color_num=[],this._finish_num=20,this._difficult_num=0)},e(o,[{key:"type",get:function(){return this._type},set:function(t){this._type=t,this.fun&&this.fun()}},{key:"pass",get:function(){return this._pass},set:function(t){this._pass=t,this.fun&&this.fun()}},{key:"mode",get:function(){return this._mode},set:function(t){this._mode=t,this.fun&&this.fun()}},{key:"finish_num",get:function(){return this._finish_num},set:function(t){this._finish_num=t,this.fun&&this.fun()}},{key:"difficult_num",get:function(){return this._difficult_num},set:function(t){this._difficult_num=t,this.fun&&this.fun()}},{key:"send_color_num",get:function(){return this._send_color_num},set:function(t){this._send_color_num=t,this.fun&&this.fun()}},{key:"color_target",get:function(){return this._color_target},set:function(t){var o=this;this._color_target=t,t.forEach((function(t){t.getFun()||t.setFun(o.fun)})),this.fun&&this.fun()}},{key:"color",get:function(){return this._color},set:function(t){var o=this;this._color=t,t.forEach((function(t){t.getFun()||t.setFun(o.fun)})),this.fun&&this.fun()}}]),o}(u)).prototype,"type",[h],Object.getOwnPropertyDescriptor(D.prototype,"type"),D.prototype),o(D.prototype,"pass",[l],Object.getOwnPropertyDescriptor(D.prototype,"pass"),D.prototype),o(D.prototype,"mode",[y],Object.getOwnPropertyDescriptor(D.prototype,"mode"),D.prototype),o(D.prototype,"finish_num",[m],Object.getOwnPropertyDescriptor(D.prototype,"finish_num"),D.prototype),o(D.prototype,"difficult_num",[g],Object.getOwnPropertyDescriptor(D.prototype,"difficult_num"),D.prototype),o(D.prototype,"send_color_num",[d],Object.getOwnPropertyDescriptor(D.prototype,"send_color_num"),D.prototype),o(D.prototype,"color_target",[v],Object.getOwnPropertyDescriptor(D.prototype,"color_target"),D.prototype),o(D.prototype,"color",[O],Object.getOwnPropertyDescriptor(D.prototype,"color"),D.prototype),w=D))||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/IConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig2.ts"],(function(t){var o,n,r,e,u,i,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.createClass},function(t){r=t.cclegacy,e=t._decorator,u=t.Enum,i=t.CCInteger},function(t){c=t.GameColor}],execute:function(){var s,p,f,l,a;r._RF.push({},"a8531g1YUpIlqAf5f99Lxay","IConfig",void 0);var h=e.ccclass,y=e.property;u(c);t("IConfig",(s=h("IConfig"),p=y({displayName:"颜色",type:c}),f=y({displayName:"数量",type:i}),s((o((a=function(){function t(){this._num=0,this._color=c.RED,this.fun=null}var o=t.prototype;return o.setFun=function(t){this.fun=t},o.getFun=function(){return this.fun},o.setData=function(t){this._num=t.num,this._color=t.color},o.getData=function(){return{num:this._num,color:this._color}},o.fromJson=function(t){this._num=t.num,this._color=t.color},n(t,[{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.fun&&this.fun()}},{key:"num",get:function(){return this._num},set:function(t){this._num=t,this.fun&&this.fun()}}]),t}()).prototype,"color",[p],Object.getOwnPropertyDescriptor(a.prototype,"color"),a.prototype),o(a.prototype,"num",[f],Object.getOwnPropertyDescriptor(a.prototype,"num"),a.prototype),l=a))||l));r._RF.pop()}}}));

System.register("chunks:///_virtual/MapItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig2.ts","./GameModel.ts","./NodeUtil.ts","./IConfig.ts"],(function(t){var e,r,i,o,s,n,_,a,p,h,u,c,l,y,f,d,m,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,s=t._decorator,n=t.CCInteger,_=t.Enum,a=t.Vec3,p=t.Label,h=t.MeshRenderer,u=t.instantiate,c=t.Component},function(t){l=t.BarrierType,y=t.GameType,f=t.GameColor},function(t){d=t.game_model},function(t){m=t.node_util},function(t){b=t.IConfig}],execute:function(){var g,w,C,v,D,I,O,k,N,U,j,E,P;o._RF.push({},"599baX3eJlM5qoCqkYh8KeK","MapItem",void 0);var M=s.ccclass,L=s.property,x=(g=M("IConfigItem"),w=L({displayName:"排序",type:n}),g((e((v=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._sort=0,e}return r(e,t),e.prototype.getData=function(){return{num:this._num,color:this._color,sort:this._sort}},i(e,[{key:"sort",get:function(){return this._sort},set:function(t){this._sort=t,this.fun&&this.fun()}}]),e}(b)).prototype,"sort",[w],Object.getOwnPropertyDescriptor(v.prototype,"sort"),v.prototype),C=v))||C);_(l);t("MapItem",(D=M("MapItem"),I=L({displayName:"无尽模式选中",visible:function(){return this._type==y.无尽模式}}),O=L({displayName:"是否显示",visible:function(){return this._type==y.关卡模式}}),k=L({displayName:"障碍物"}),N=L({displayName:"全随机",visible:function(){return this._is_type_show}}),U=L({visible:function(){return this._is_show||!this._is_random&&this._is_type_show},displayName:"颜色",type:[x]}),j=L({displayName:"障碍物样式",type:l,visible:function(){return this._barrier}}),D((e((P=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._is_type_show=!1,e._is_show=!1,e._barrier=!1,e._barrier_type=l.NONE,e._is_random=!0,e._id_pos=-1,e._material=[],e._item_pre=null,e.temp_pos1=new a,e.temp_pos2=new a,e._label_index=null,e._mainCamera=null,e.node_contetn_list=[],e._color=[],e._type=y.关卡模式,e._colors_target=[],e._endless_color=[],e._prefab_barrier=[],e._updat_fun=null,e}r(e,t);var o=e.prototype;return o.start=function(){for(var t in f)f.hasOwnProperty(t)&&this._colors_target.push(f[t]);this.setLabel(this.node,this.node.name)},o.setLabel=function(t,e){t.getComponentsInChildren(p).forEach((function(t){t.node.active=!0,t.string=e}))},o.upDataUI=function(){var t=this;if(this.node_contetn_list.forEach((function(e){t.node.removeChild(e)})),this.barrier)if(this.barrier_type==l.NONE)this.node.getComponent(h).enabled=!0;else{this.node.getComponent(h).enabled=!1;var e=this._prefab_barrier[this.barrier_type-1];e||(e=this._prefab_barrier[0]);var r=u(e);this.node.addChild(r),this.node_contetn_list.push(r)}else if(this.type!=y.关卡模式||this.is_show)if(this.type!=y.无尽模式||this.is_type_show){var i;this.node.getComponent(h).enabled=!1,i=this.type==y.无尽模式&&this.is_random?this.color:this.toJSON().color,console.log("----不随机----",i);var o=0;i.forEach((function(e){if(e)for(var r=t.material[e.color],i=e.num,s=0;s<i;s++){var n=u(t.item_pre);m.onCloseRigidBody(n),t.node.addChild(n),n.scale=new a(1.1,1,1.1),t.temp_pos1.set(0,o*d.contetn_item_height,0),n.position=t.temp_pos1,n.getComponentsInChildren(h)[0].getComponent(h).material=r,t.node_contetn_list.push(n),t.setLabel(n,t.node.name),o++}}))}else this.node.getComponent(h).enabled=!0;else this.node.getComponent(h).enabled=!0},o.toJSON=function(){var t=this._color.map((function(t){return t.getData()}));return t.sort((function(t,e){return t.sort-e.sort})),this.is_random&&this.type==y.无尽模式&&(t=[]),{id:this._id_pos,is_show:this._is_show,is_type_show:this.is_type_show,is_random:this._is_random,color:t,is_barrier:this._barrier,barrier_type:this.barrier_type}},o.fromJSON=function(t){console.log("---196---json数据",t),this._id_pos=t.id,this._is_show=t.is_show,this._is_type_show=t.is_type_show,this._is_random=t.is_random,this._color=t.color.map((function(t){var e=new x;return e.color=t.color,e.num=t.num,e.sort=t.sort,e})),this._barrier=!!t.is_barrier&&t.is_barrier,this._barrier_type=t.barrier_type?t.barrier_type:l.NONE,this.upDataUI()},o.setColor=function(t){console.log("setColor：",t),this._color=t.map((function(t){var e=new x;return e.color=t.color,e.num=t.num,e.sort=t.sort,e})),this.upDataUI()},o.useDefaultData=function(){console.log("---默认数据---"),this._color=[],this._is_show=!1,this._is_random=!0,this._is_type_show=!1,this._barrier=!1,this._barrier_type=l.NONE,this.upDataUI()},i(e,[{key:"is_type_show",get:function(){return this._is_type_show},set:function(t){this._is_type_show=t,this._barrier=!1,this.upDataUI(),this._updat_fun&&this._updat_fun(this._id_pos,t)}},{key:"is_show",get:function(){return this._is_show},set:function(t){this._is_show=t,this._barrier=!1,this.upDataUI()}},{key:"barrier",get:function(){return this._barrier},set:function(t){this._barrier=t,this._is_type_show=!1,this._is_show=!1,this.upDataUI()}},{key:"is_random",get:function(){return this._is_random},set:function(t){this._is_random=t,this.upDataUI()}},{key:"color",get:function(){return this._color},set:function(t){var e=this;this._color=t,t.forEach((function(t){t.getFun()||t.setFun(e.upDataUI.bind(e))})),this.upDataUI()}},{key:"barrier_type",get:function(){return this._barrier_type},set:function(t){this._barrier_type=t,this.upDataUI()}},{key:"id_pos",get:function(){return this._id_pos},set:function(t){this._id_pos=t}},{key:"material",get:function(){return this._material},set:function(t){this._material=t}},{key:"item_pre",get:function(){return this._item_pre},set:function(t){this._item_pre=t}},{key:"label_index",get:function(){return this._label_index},set:function(t){this._label_index=t}},{key:"mainCamera",get:function(){return this._mainCamera},set:function(t){this._mainCamera=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"colors_target",get:function(){return this._colors_target},set:function(t){this._colors_target=t}},{key:"endless_color",get:function(){return this._endless_color},set:function(t){this._endless_color=t}},{key:"updat_fun",set:function(t){this._updat_fun=t}},{key:"prefab_barrier",get:function(){return this._prefab_barrier},set:function(t){this._prefab_barrier=t}}]),e}(c)).prototype,"is_type_show",[I],Object.getOwnPropertyDescriptor(P.prototype,"is_type_show"),P.prototype),e(P.prototype,"is_show",[O],Object.getOwnPropertyDescriptor(P.prototype,"is_show"),P.prototype),e(P.prototype,"barrier",[k],Object.getOwnPropertyDescriptor(P.prototype,"barrier"),P.prototype),e(P.prototype,"is_random",[N],Object.getOwnPropertyDescriptor(P.prototype,"is_random"),P.prototype),e(P.prototype,"color",[U],Object.getOwnPropertyDescriptor(P.prototype,"color"),P.prototype),e(P.prototype,"barrier_type",[j],Object.getOwnPropertyDescriptor(P.prototype,"barrier_type"),P.prototype),E=P))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/mapload",["./BarriTermComp.ts","./BarrierItemContent.ts","./BarriterItem.ts","./Config3.ts","./IConfig.ts","./MapItem.ts","./MapMain.ts","./MapMain2.ts","./TargetConfig.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MapMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameModel.ts","./NodeUtil.ts","./Game.ts","./JoyStick.ts","./Item.ts","./MapItem.ts","./GameMapModel.ts","./GameConfig2.ts","./Camera3DComp.ts","./AllAnimationComp.ts","./Config3.ts","./PropComp.ts","./Config.ts","./BarriTermComp.ts"],(function(e){var o,t,n,r,i,a,s,l,c,u,p,f,m,d,g,_,h,b,y,C,v,w,D,M,k,z,E,x,j,I,L,P,U,B,A;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Node,u=e.Prefab,p=e.Label,f=e.Material,m=e.CameraComponent,d=e.Vec3,g=e.Vec2,_=e.Component,h=e.assetManager,b=e.JsonAsset,y=e.instantiate,C=e.MeshRenderer},function(e){v=e.game_model},function(e){w=e.node_util},function(e){D=e.Game},function(e){M=e.JoyStick},function(e){k=e.item},function(e){z=e.MapItem},function(e){E=e.game_map_model},function(e){x=e.GameType,j=e.GameColor},function(e){I=e.Camera3DComp},function(e){L=e.AllAnimationComp},function(e){P=e.config},function(e){U=e.PropComp},function(e){B=e.Bundle},function(e){A=e.BarriTermComp}],execute:function(){var G,J,N,R,O,T,S,F,q,H,V,K,Q,W,X,Y,Z,$,ee,oe,te,ne,re,ie,ae,se,le,ce,ue,pe,fe,me,de,ge,_e;s._RF.push({},"8cc0d53RK1Eh49ifSewTHm1","MapMain",void 0);var he,be=l.ccclass,ye=l.property;window.Editor&&(he=require("fs"));e("MapMain",(G=be("MapMain"),J=ye(D),N=ye(M),R=ye(I),O=ye(L),T=ye(U),S=ye(c),F=ye(c),q=ye(u),H=ye(p),V=ye([f]),K=ye({type:m}),Q=ye(P),W=ye(p),X=ye(f),Y=ye({type:[u]}),Z=ye(c),G((oe=o((ee=function(e){function o(){for(var o,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=e.call.apply(e,[this].concat(i))||this,n(o,"node_game",oe,r(o)),n(o,"node_joy_stick",te,r(o)),n(o,"node_camera",ne,r(o)),n(o,"allAnimationComp",re,r(o)),n(o,"propComp",ie,r(o)),n(o,"node_content",ae,r(o)),n(o,"node_pos",se,r(o)),n(o,"prefab_1",le,r(o)),n(o,"label_index",ce,r(o)),n(o,"material",ue,r(o)),n(o,"mainCamera",pe,r(o)),n(o,"config",fe,r(o)),n(o,"color_label",me,r(o)),n(o,"material_def",de,r(o)),n(o,"prefabBarrier",ge,r(o)),n(o,"barrieri_Node",_e,r(o)),o.temp_pos1=new d(0,0,0),o.type=x.关卡模式,o.pass=0,o.color_wujin=[],o.barrieri_comp=null,o}t(o,e);var s=o.prototype;return s.onLoad=function(){var e=this;this.node_game.destroy(),this.node_joy_stick.destroy(),this.node_camera.destroy(),this.allAnimationComp.destroy(),this.propComp.destroy(),this.scheduleOnce((function(){e.onPostion()})),this.type=this.config.type,this.pass=this.config.pass,this.config.setFunMain(this.upDataUI.bind(this)),this.barrieri_comp=this.barrieri_Node.addComponent(A)},s.update=function(e){},s.upDataUI=function(){var e=i(a().mark((function e(o){var t,n,r,i,s,l,c,u,p=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o&&(o=!1),console.log("---88---"),t=this.config.getData(),n=!0,this.type!=t.type||o||(t.type==x.关卡模式&&this.pass==t.pass&&(n=!1),t.type==x.无尽模式&&this.pass==t.mode&&(n=!1)),n){e.next=9;break}return this.setColorLabel(),console.log("没变法，不更新"),e.abrupt("return");case 9:if(this.type=t.type,this.pass=this.type==x.关卡模式?t.pass:t.mode,console.log("type:",this.type),console.log("pass:",this.pass),!(t.pass<=0&&t.type==x.关卡模式||t.mode<=0&&t.type==x.无尽模式)){e.next=19;break}return console.log("关卡小于1"),this.node_content.children.forEach((function(e){if(e){var o=e.getComponent(z);o&&(o.type=t.type,o.useDefaultData())}})),this.config.fromJson(null),this.color_label.string="",e.abrupt("return");case 19:if(t.type!=x.关卡模式){e.next=32;break}if(console.log("---关卡模式---"),!(t.pass<=0)){e.next=24;break}return console.log("关卡小于1"),e.abrupt("return");case 24:if(Number.isInteger(t.pass)){e.next=27;break}return console.log("不是整数"),e.abrupt("return");case 27:return e.next=29,E.getPassMapData1(t.pass,t.type);case 29:r=e.sent,e.next=39;break;case 32:return console.log("---无尽模式---"),e.next=35,E.getPassMapData1(t.mode,t.type);case 35:r=e.sent,console.log("data111:",r),r&&(i=[],r.map.forEach((function(e,o){e&&e.is_type_show&&i.push(e)})),s=i.map((function(e){return e.id})),this.color_wujin=E.distributeCoins(r.color,s),r.map.forEach((function(e,o){e&&e.is_type_show&&e.is_random&&(e.color=p.color_wujin.shift().colors)}))),console.log("data222:",r);case 39:console.log("data:",r),l=t.color_target.filter((function(e){return e.color!=j.MULTICOLOURED})),c=l.map((function(e){return e.color})),console.log("key_color2:",c),this.node_content.children.forEach((function(e){if(e){var o=e.getComponent(z);if(o)if(o.type=t.type,c&&(o.colors_target=[],c.forEach((function(e){o.colors_target.push(e)}))),r){var n=r.map.find((function(e){return e.id==o.id_pos}));n?o.fromJSON(n):o.useDefaultData()}else o.useDefaultData()}})),r?(this.config.fromJson(r),u="",r.color_target.forEach((function(e){e&&(u+=j[e.color]+": "+e.num+"\n")})),this.color_label.string=u):(this.config.fromJson(null),this.color_label.string=""),r&&r.barrier_map&&r.barrier_map.length>0?this.barrieri_comp.setBarriterData(r.barrier_map):this.barrieri_comp.clearData();case 46:case"end":return e.stop()}}),e,this)})));return function(o){return e.apply(this,arguments)}}(),s.setColorLabel=function(){var e=this,o=this.config.getData(),t="";o.color_target.forEach((function(e){e&&(console.log("value:",e),t+=j[e.color]+": "+e.num+"\n")})),this.color_label.string=t;var n=[],r=o.color_target.filter((function(e){return e.color!=j.MULTICOLOURED})).map((function(e){return e.color}));console.log("key_color3:",r),this.node_content.children.forEach((function(e){if(e){var t=e.getComponent(z);t&&(t.type=o.type,r&&(t.colors_target=[],r.forEach((function(e){t.colors_target.push(e)}))),o.type==x.无尽模式&&t.is_type_show&&t.is_random?n.push(t):t.upDataUI())}}));var i=n.map((function(e){return e.id_pos}));this.color_wujin=E.distributeCoins(o.color,i),n.forEach((function(o,t){var n=e.color_wujin.shift();o.setColor(n)}))},s.setItemUpData=function(e,o){var t,n=this.config.getData();if(n.type==x.无尽模式)if(this.node_content.children.forEach((function(o){if(o){var n=o.getComponent(z);n&&n.id_pos==e&&(t=n)}})),o){var r=this.color_wujin.shift();r=r?r.colors:E.randomMap(n.color.map((function(e){return e.color}))),t.type=n.type,t.setColor(r)}else{var i=t.color;this.color_wujin.push(i)}},s.onPostion=function(){var e=i(a().mark((function e(){var o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.loadBundle(B.GAME,(function(e,t){e?console.log("err:",e):t.load("map/gold_postion",b,(function(e,t){if(console.log(t),t){var n=t.json;t.decRef(),v.setPostionList(n),console.log("postions:",n),v.getPostionList().forEach((function(e,t){var n,r=y(o.prefab_1);r.getComponent(C).material=o.material_def,null==(n=r.getComponent(k))||n.destroy(),w.onCloseRigidBody(r),o.node_content.addChild(r),o.temp_pos1=e.position.clone(),r.position=o.temp_pos1,r.name=e.id+"";var i=r.addComponent(z);i.id_pos=e.id,i.material=o.material,i.item_pre=o.prefab_1,i.label_index=o.label_index,i.mainCamera=o.mainCamera,i.updat_fun=o.setItemUpData.bind(o),i.prefab_barrier=o.prefabBarrier}))}}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.funUIround3=function(e,o,t,n){for(var r=n.width/2,i=Math.sqrt(3)*r,a=1.5*r,s=Math.floor(o/a),l=Math.floor(t/i),c=e.position,u=0,p=[],f=0;f<l;f++)for(var m=0;m<s;m++){var d=f*a,_=m*i+(f%2==0?0:i/2),h=c.x-o/2+r+_,b=c.y-t/2+r+d;p.push({id:u++,position:new g(h,b),offsets:{q:m,r:f}})}return p},s.onClick=function(){var e=this,o=this.config.getData();if(o.pass<=0&&o.type==x.关卡模式||o.mode<=0&&o.type==x.无尽模式)console.log("关卡小于1");else{var t=window.cce.project;t.replace("\\"," / ");var n=o.type==x.关卡模式?o.pass:o.mode,r=this.node.name+n+".json",i=t+"/assets/assets_bundle/game/map/pass/";if(o.type==x.无尽模式&&(i=t+"/assets/assets_bundle/game/map/endless/"),console.log("开始生成:",r),console.log("路径:",i),he){var a=function(){var t=[];e.node_content.children.forEach((function(e){if(e){var o=e.getComponent(z);o&&t.push(o.toJSON())}}));var n={type:o.type,pass:o.pass,finish_num:o.finish_num,color:o.color,color_target:o.color_target,mode:o.mode,map:t,send_color_num:o.send_color_num,barrier_map:e.barrieri_comp.getComponent(A).getBarritermMapData(),difficult_num:o.difficult_num},a=JSON.stringify(n);E.setPassMapData(n),he.writeFile(i+r,a,(function(e){e?console.log("生成失败:",e):console.log("完成生成")}))};he.exists(i,(function(e){e?a():he.mkdir(t+"/assets/assets_bundle",(function(e){e&&console.log("创建目录失败："+e),he.mkdir(t+"/assets/assets_bundle/game",(function(e){e&&console.log("创建目录失败："+e),he.mkdir(t+"/assets/assets_bundle/game/map",(function(e){e&&console.log("创建目录失败："+e),he.mkdir(i,(function(e){e?console.log("创建目录失败："+e):(console.log("创建目录成功:",i),a())}))}))}))}))}))}}},s.onClock2=function(){this.upDataUI(!0)},o}(_)).prototype,"node_game",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=o(ee.prototype,"node_joy_stick",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=o(ee.prototype,"node_camera",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=o(ee.prototype,"allAnimationComp",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=o(ee.prototype,"propComp",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=o(ee.prototype,"node_content",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=o(ee.prototype,"node_pos",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=o(ee.prototype,"prefab_1",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=o(ee.prototype,"label_index",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=o(ee.prototype,"material",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=o(ee.prototype,"mainCamera",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=o(ee.prototype,"config",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=o(ee.prototype,"color_label",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=o(ee.prototype,"material_def",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=o(ee.prototype,"prefabBarrier",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_e=o(ee.prototype,"barrieri_Node",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=ee))||$));s._RF.pop()}}}));

System.register("chunks:///_virtual/MapMain2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game.ts","./JoyStick.ts","./Camera3DComp.ts","./AllAnimationComp.ts","./PropComp.ts"],(function(o){var n,e,i,t,r,a,l,s,c,u,p,d,m,f;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,i=o.initializerDefineProperty,t=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,l=o.Node,s=o.Component,c=o.Vec3},function(o){u=o.Game},function(o){p=o.JoyStick},function(o){d=o.Camera3DComp},function(o){m=o.AllAnimationComp},function(o){f=o.PropComp}],execute:function(){var _,b,y,g,w,h,C,v,k,z,A,M,D,P,j,S,x,F,G,J,L;r._RF.push({},"87723DYlelGAaDk+mBTtYVd","MapMain2",void 0);var B,E=a.ccclass,N=a.property;window.Editor&&(B=require("fs"));o("MapMain2",(_=E("MapMain2"),b=N(u),y=N(p),g=N(d),w=N(d),h=N(m),C=N(f),v=N(l),k=N(l),z=N(l),_((D=n((M=function(o){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=o.call.apply(o,[this].concat(r))||this,i(n,"node_game",D,t(n)),i(n,"node_joy_stick",P,t(n)),i(n,"node_camera",j,t(n)),i(n,"node_camera2",S,t(n)),i(n,"allAnimationComp",x,t(n)),i(n,"propComp",F,t(n)),i(n,"node_content",G,t(n)),i(n,"node_pos",J,t(n)),i(n,"node_postion",L,t(n)),n}e(n,o);var r=n.prototype;return r.onLoad=function(){this.node_game.destroy(),this.node_joy_stick.destroy(),this.node_camera.destroy(),this.node_camera2.destroy(),this.allAnimationComp.destroy(),this.propComp.destroy(),this.node_camera.node.active=!1},r.start=function(){this.onClick()},r.update=function(o){},r.onClick=function(){var o=this,n=window.cce.project;n.replace("\\"," / ");var e="gold_postion.json",i=n+"/assets/assets_bundle/game/map/";if(console.log("开始生成:",e),console.log("路径:",i),B){var t=function(){var n=[],t=new l;o.node_content.addChild(t);var r=new c(0,o.node_pos.position.y,0);o.node_postion.children.forEach((function(o,e){t.worldPosition=o.worldPosition,r.set(t.position.x,r.y,t.position.z);var i={id:e,position:r.clone(),world_postion:o.worldPosition.clone()};n.push(i)})),t.destroy(),n.sort((function(o,n){return o.id-n.id}));var a=JSON.stringify(n);B.writeFile(i+e,a,(function(o){o?console.log("生成失败:",o):console.log("完成生成")}))};B.exists(i,(function(o){o?t():B.mkdir(n+"/assets/assets_bundle",(function(o){o&&console.log("创建目录失败："+o),B.mkdir(n+"/assets/assets_bundle/game",(function(o){o&&console.log("创建目录失败："+o),B.mkdir(n+"/assets/assets_bundle/game/map",(function(o){o&&console.log("创建目录失败："+o),B.mkdir(i,(function(o){o?console.log("创建目录失败："+o):(console.log("创建目录成功:",i),t())}))}))}))}))}))}},n}(s)).prototype,"node_game",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(M.prototype,"node_joy_stick",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(M.prototype,"node_camera",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(M.prototype,"node_camera2",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(M.prototype,"allAnimationComp",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(M.prototype,"propComp",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(M.prototype,"node_content",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(M.prototype,"node_pos",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(M.prototype,"node_postion",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=M))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/TargetConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig2.ts"],(function(t){var o,n,r,e,u,i,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.createClass},function(t){r=t.cclegacy,e=t._decorator,u=t.Enum,i=t.CCInteger},function(t){c=t.GameColor}],execute:function(){var s,p,f,a,l;r._RF.push({},"7bf48AvHNNPnZ/4JNPbcBMe","TargetConfig",void 0);var h=e.ccclass,g=e.property;u(c);t("TargetConfig",(s=h("TargetConfig"),p=g({displayName:"颜色",type:c}),f=g({displayName:"数量",type:i}),s((o((l=function(){function t(){this._num=0,this._color=c.RED,this.fun=null}var o=t.prototype;return o.setFun=function(t){this.fun=t},o.getFun=function(){return this.fun},o.setData=function(t){this._num=t.num,this._color=t.color},o.getData=function(){return{num:this._num,color:this._color}},o.fromJson=function(t){this._num=t.num,this._color=t.color},n(t,[{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.fun&&this.fun()}},{key:"num",get:function(){return this._num},set:function(t){this._num=t,this.fun&&this.fun()}}]),t}()).prototype,"color",[p],Object.getOwnPropertyDescriptor(l.prototype,"color"),l.prototype),o(l.prototype,"num",[f],Object.getOwnPropertyDescriptor(l.prototype,"num"),l.prototype),a=l))||a));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/mapload', 'chunks:///_virtual/mapload'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});